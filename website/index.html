<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Keep It Krispy - AI-Powered Meeting Memory</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 50%, #0f0f23 100%);
      color: #e0e0e0;
      min-height: 100vh;
      line-height: 1.6;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    header {
      text-align: center;
      margin-bottom: 60px;
    }

    .logo {
      max-width: 500px;
      width: 100%;
      margin-bottom: 20px;
    }

    .tagline {
      font-size: 1.3rem;
      color: #a0a0b0;
      margin-bottom: 30px;
    }

    .install-box {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 50px;
    }

    .install-box h2 {
      color: #00d4aa;
      margin-bottom: 15px;
      font-size: 1.1rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .curl-command {
      background: #0d0d1a;
      border: 1px solid #333;
      border-radius: 8px;
      padding: 15px 20px;
      font-family: 'SF Mono', Monaco, 'Courier New', monospace;
      font-size: 0.95rem;
      color: #00d4aa;
      overflow-x: auto;
      position: relative;
    }

    .curl-command::before {
      content: '$ ';
      color: #666;
    }

    section {
      margin-bottom: 50px;
    }

    h2 {
      color: #fff;
      font-size: 1.5rem;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    h3 {
      color: #a78bfa;
      font-size: 1.1rem;
      margin: 25px 0 12px 0;
    }

    p {
      margin-bottom: 15px;
      color: #b0b0c0;
    }

    strong {
      color: #fff;
    }

    code {
      background: rgba(0, 212, 170, 0.1);
      color: #00d4aa;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 0.9em;
    }

    .highlight {
      color: #00d4aa;
    }

    .warning {
      color: #fbbf24;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .feature {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 8px;
      padding: 20px;
    }

    .feature h4 {
      color: #a78bfa;
      font-size: 1rem;
      margin-bottom: 10px;
    }

    .feature p {
      font-size: 0.9rem;
      margin: 0;
    }

    .info-box {
      background: rgba(167, 139, 250, 0.1);
      border: 1px solid rgba(167, 139, 250, 0.3);
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
    }

    .info-box h4 {
      color: #a78bfa;
      margin-bottom: 10px;
    }

    .warning-box {
      background: rgba(251, 191, 36, 0.1);
      border: 1px solid rgba(251, 191, 36, 0.3);
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
    }

    .warning-box h4 {
      color: #fbbf24;
      margin-bottom: 10px;
    }

    ul, ol {
      margin: 15px 0 15px 25px;
      color: #b0b0c0;
    }

    li {
      margin-bottom: 8px;
    }

    .step-list {
      list-style: none;
      margin-left: 0;
      counter-reset: step;
    }

    .step-list li {
      position: relative;
      padding-left: 45px;
      margin-bottom: 20px;
    }

    .step-list li::before {
      counter-increment: step;
      content: counter(step);
      position: absolute;
      left: 0;
      top: 0;
      width: 30px;
      height: 30px;
      background: rgba(0, 212, 170, 0.2);
      border: 1px solid #00d4aa;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #00d4aa;
      font-weight: bold;
      font-size: 0.9rem;
    }

    .prereq-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }

    .prereq {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 8px;
      padding: 15px;
    }

    .prereq strong {
      display: block;
      margin-bottom: 5px;
    }

    .prereq span {
      font-size: 0.85rem;
      color: #888;
    }

    .architecture {
      background: #0d0d1a;
      border: 1px solid #333;
      border-radius: 8px;
      padding: 20px;
      overflow-x: auto;
      font-family: 'SF Mono', Monaco, 'Courier New', monospace;
      font-size: 0.8rem;
      line-height: 1.4;
      color: #888;
    }

    .cost-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }

    .cost-table th, .cost-table td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .cost-table th {
      color: #a78bfa;
      font-weight: 500;
    }

    .cost-table td:last-child {
      color: #00d4aa;
      font-family: 'SF Mono', Monaco, monospace;
    }

    .cost-table tr:last-child td {
      border-bottom: none;
      font-weight: bold;
      color: #fff;
    }

    .cost-table tr:last-child td:last-child {
      color: #00d4aa;
      font-size: 1.1rem;
    }

    footer {
      text-align: center;
      padding: 40px 0;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      color: #666;
      font-size: 0.9rem;
    }

    footer a {
      color: #a78bfa;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    .github-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.15);
      padding: 12px 24px;
      border-radius: 8px;
      color: #fff;
      text-decoration: none;
      font-weight: 500;
      margin-top: 20px;
      transition: all 0.2s;
    }

    .github-link:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.25);
    }

    .github-link svg {
      width: 20px;
      height: 20px;
      fill: currentColor;
    }

    .conversation {
      margin: 25px 0;
      padding: 20px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 12px;
    }

    .chat-bubble {
      padding: 15px 18px;
      border-radius: 12px;
      margin-bottom: 12px;
      position: relative;
      line-height: 1.5;
    }

    .chat-bubble:last-child {
      margin-bottom: 0;
    }

    .chat-bubble.user {
      background: rgba(167, 139, 250, 0.15);
      border: 1px solid rgba(167, 139, 250, 0.3);
      margin-left: 30px;
    }

    .chat-bubble.claude {
      background: rgba(0, 212, 170, 0.1);
      border: 1px solid rgba(0, 212, 170, 0.25);
      margin-right: 30px;
    }

    .chat-label {
      display: block;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
    }

    .chat-bubble.user .chat-label {
      color: #a78bfa;
    }

    .chat-bubble.claude .chat-label {
      color: #00d4aa;
    }

    /* Preview button */
    .preview-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      margin-top: 15px;
      padding: 10px 20px;
      background: rgba(167, 139, 250, 0.15);
      border: 1px solid rgba(167, 139, 250, 0.4);
      border-radius: 6px;
      color: #a78bfa;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .preview-btn:hover {
      background: rgba(167, 139, 250, 0.25);
      border-color: rgba(167, 139, 250, 0.6);
    }

    .preview-btn svg {
      width: 14px;
      height: 14px;
    }

    /* Modal styles */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.85);
      z-index: 1000;
      overflow-y: auto;
      padding: 40px 20px;
    }

    .modal-overlay.active {
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }

    .modal {
      background: #0d0d1a;
      border: 1px solid #333;
      border-radius: 12px;
      max-width: 800px;
      width: 100%;
      max-height: 90vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 24px;
      border-bottom: 1px solid #333;
      background: #0a0a12;
    }

    .modal-header h3 {
      color: #fff;
      font-size: 1.1rem;
      margin: 0;
    }

    .modal-close {
      background: none;
      border: none;
      color: #666;
      font-size: 24px;
      cursor: pointer;
      padding: 0;
      line-height: 1;
    }

    .modal-close:hover {
      color: #fff;
    }

    .modal-body {
      padding: 24px;
      overflow-y: auto;
      flex: 1;
    }

    /* Terminal preview */
    .terminal {
      background: #000;
      border-radius: 8px;
      overflow: hidden;
      font-family: 'SF Mono', Monaco, 'Courier New', monospace;
      font-size: 0.85rem;
      line-height: 1.5;
    }

    .terminal-header {
      background: #1a1a1a;
      padding: 8px 12px;
      display: flex;
      gap: 6px;
    }

    .terminal-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }

    .terminal-dot.red { background: #ff5f56; }
    .terminal-dot.yellow { background: #ffbd2e; }
    .terminal-dot.green { background: #27ca40; }

    .terminal-content {
      padding: 16px;
      color: #ccc;
      white-space: pre-wrap;
      word-break: break-word;
    }

    .terminal-step {
      margin-bottom: 24px;
      opacity: 0.4;
      transition: opacity 0.3s;
    }

    .terminal-step.active {
      opacity: 1;
    }

    .terminal-step.completed {
      opacity: 0.7;
    }

    .step-label {
      display: inline-block;
      background: #333;
      color: #888;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.75rem;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .step-label.auto {
      background: rgba(0, 212, 170, 0.2);
      color: #00d4aa;
    }

    .step-label.input {
      background: rgba(251, 191, 36, 0.3);
      color: #fbbf24;
    }

    .step-label.output {
      background: rgba(167, 139, 250, 0.2);
      color: #a78bfa;
    }

    .user-input {
      display: inline-block;
      background: rgba(251, 191, 36, 0.2);
      border: 2px solid #fbbf24;
      border-radius: 4px;
      padding: 2px 8px;
      color: #fbbf24;
      font-weight: bold;
      animation: pulse-border 2s infinite;
    }

    @keyframes pulse-border {
      0%, 100% { border-color: #fbbf24; }
      50% { border-color: rgba(251, 191, 36, 0.4); }
    }

    .success { color: #00d4aa; }
    .warning { color: #fbbf24; }
    .muted { color: #666; }
    .highlight-url { color: #a78bfa; }

    .step-nav {
      display: flex;
      gap: 8px;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid #333;
    }

    .step-nav button {
      flex: 1;
      padding: 12px 20px;
      border-radius: 6px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .step-nav .prev-btn {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid #333;
      color: #888;
    }

    .step-nav .prev-btn:hover:not(:disabled) {
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
    }

    .step-nav .next-btn {
      background: rgba(0, 212, 170, 0.2);
      border: 1px solid #00d4aa;
      color: #00d4aa;
    }

    .step-nav .next-btn:hover:not(:disabled) {
      background: rgba(0, 212, 170, 0.3);
    }

    .step-nav button:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .step-indicator {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-bottom: 20px;
    }

    .step-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #333;
      transition: all 0.3s;
    }

    .step-dot.active {
      background: #00d4aa;
      transform: scale(1.3);
    }

    .step-dot.completed {
      background: #00d4aa;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img src="logo.png" alt="Keep It Krispy" class="logo">
      <p class="tagline">Personal AI-powered meeting memory that makes every conversation searchable, summarizable, and actionable.</p>
      <a href="https://github.com/dwinter3/keep-it-krispy" class="github-link">
        <svg viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
        View on GitHub
      </a>
    </header>

    <section>
      <h2>What It Does</h2>
      <p>Keep It Krispy captures your <strong>Krisp meeting transcripts</strong> and transforms them into a searchable knowledge base accessible directly from Claude. Ask Claude questions about your meetings and get instant, accurate answers.</p>
      <div class="feature-grid">
        <div class="feature">
          <h4>"What did Caroline say about the legal timeline?"</h4>
          <p>Pull exact context from any meeting with any participant</p>
        </div>
        <div class="feature">
          <h4>"Summarize my calls from last week"</h4>
          <p>Get instant rollups of recent conversations</p>
        </div>
        <div class="feature">
          <h4>"Find meetings about Q1 roadmap"</h4>
          <p>Semantic search finds context even without exact keywords</p>
        </div>
      </div>
    </section>

    <section>
      <h2>What is Krisp.ai? (Required)</h2>
      <p style="margin-bottom: 20px;"><a href="https://krisp.ai" style="display: inline-block;"><img src="krisp-logo.svg" alt="Krisp.ai" style="height: 32px; vertical-align: middle;"></a></p>
      <p><a href="https://krisp.ai" style="color: #00d4aa;">Krisp.ai</a> is a desktop app for Mac/Windows that provides <strong>AI noise cancellation</strong> and <strong>real-time transcription</strong> for any meeting — Zoom, Google Meet, Teams, phone calls, anything with audio.</p>

      <div class="info-box">
        <h4>Why Krisp.ai Pro/Business?</h4>
        <p>Krisp.ai's free tier does transcription, but <strong>webhooks require Krisp.ai Pro or Business</strong>. Webhooks are the unlock — they let Krisp.ai automatically send transcripts to your infrastructure the moment a call ends.</p>
        <p style="margin-top: 10px;"><a href="https://krisp.ai/pricing/" style="color: #a78bfa;">Krisp.ai pricing →</a></p>
      </div>

      <h3>How Automatic Ingestion Works</h3>
      <p><strong>Once configured, ingestion is 100% automatic.</strong> You don't do anything — just have your meetings. Here's what happens:</p>
      <ol class="step-list">
        <li><strong>You finish a call</strong> — Krisp detects the meeting ended</li>
        <li><strong>Krisp sends the transcript</strong> — Via webhook to your AWS Lambda (within seconds)</li>
        <li><strong>Lambda stores it in S3</strong> — Raw JSON preserved forever</li>
        <li><strong>S3 triggers processing</strong> — Chunks transcript, generates embeddings</li>
        <li><strong>Ready for Claude</strong> — Searchable in Claude within ~10 seconds of hanging up</li>
      </ol>
      <p>No manual export. No copy-paste. No "remember to save the transcript." Every conversation you have is automatically indexed and searchable.</p>

      <h3>Setting Up the Krisp Webhook</h3>
      <p>After running the install script, you'll get a webhook URL. Here's how to configure Krisp:</p>
      <ol>
        <li>Open <strong>Krisp app</strong> → Settings (gear icon)</li>
        <li>Go to <strong>Integrations</strong> or <strong>Webhooks</strong> tab</li>
        <li>Click <strong>"Add Webhook"</strong></li>
        <li>Paste your webhook URL (provided by the install script)</li>
        <li>Enable <strong>"Send transcript on call end"</strong></li>
        <li>Save — that's it, you're done</li>
      </ol>
      <p>From now on, every call is automatically captured.</p>
    </section>

    <section>
      <h2>Real World Usage: After a Business Call</h2>
      <p>Here's what it actually looks like to use Keep It Krispy in your daily workflow:</p>

      <div class="conversation">
        <div class="chat-bubble user">
          <span class="chat-label">You</span>
          Just got off a call with the legal team about the partnership agreement. Can you find what Caroline said about the timeline for the legal review?
        </div>
        <div class="chat-bubble claude">
          <span class="chat-label">Claude</span>
          From your call with Legal today at 2:30 PM, Caroline mentioned: "We need at least three weeks for the full legal review, but I can get you preliminary feedback by Friday if you need to start drafting the technical specs."
          <br><br>
          She also flagged that the indemnification clause will need extra review because of the data processing components.
        </div>
      </div>

      <div class="conversation">
        <div class="chat-bubble user">
          <span class="chat-label">You</span>
          I need to write a summary doc for the exec team. Can you pull together everything from my calls this week about the Q1 roadmap, combine it with the slide deck I shared in our Monday standup, and draft something?
        </div>
        <div class="chat-bubble claude">
          <span class="chat-label">Claude</span>
          I found 4 meetings this week that discussed Q1 roadmap: Monday standup, Wednesday product sync, Thursday eng review, and today's stakeholder call.
          <br><br>
          Key themes across all four:<br>
          • Engineering wants to push the auth migration to Q2<br>
          • Product is prioritizing the dashboard redesign<br>
          • Brian raised concerns about the API deprecation timeline
          <br><br>
          Combined with your Monday slides, here's a draft exec summary...
        </div>
      </div>

      <div class="conversation">
        <div class="chat-bubble user">
          <span class="chat-label">You</span>
          Search for any meetings where we discussed budget concerns
        </div>
        <div class="chat-bubble claude">
          <span class="chat-label">Claude</span>
          Found 3 relevant meetings (semantic search — includes discussions about "cost overruns", "spending", and "resource constraints"):
          <br><br>
          • <strong>Nov 12 Finance Review</strong> — CFO flagged Q4 cloud spend 23% over budget<br>
          • <strong>Nov 15 Product Planning</strong> — You mentioned needing to "find cheaper alternatives for the data pipeline"<br>
          • <strong>Nov 18 Vendor Call</strong> — Discussed contract renegotiation for cost reduction
        </div>
      </div>

      <div class="info-box">
        <h4>The Workflow Unlock</h4>
        <p>Standard AI summaries only know about one call. The real power is combining <strong>multiple transcripts</strong> with your own context — slide decks, email threads, PDFs, notes — and then asking Claude to synthesize something useful.</p>
        <p style="margin-top: 10px;">That's what makes this different from clicking "summarize" in Krisp. You're building a <strong>knowledge layer</strong> across all your conversations.</p>
      </div>
    </section>

    <div class="install-box">
      <h2>Install (Self-Hosted)</h2>
      <div class="curl-command">curl -fsSL http://keepitkrispy-website.s3-website-us-east-1.amazonaws.com/install.sh | bash</div>
      <p style="margin-top: 15px; font-size: 0.9rem; color: #b0b0c0;">
        This deploys infrastructure to <strong>your own AWS account</strong>. We don't host anything for you.
      </p>
      <button class="preview-btn" onclick="openInstallPreview()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
        Preview Install Process
      </button>
    </div>

    <section>
      <h2>What the Install Does</h2>

      <p>The install script is fully automated but <strong>interactive</strong> — it will ask for confirmation before creating AWS resources.</p>

      <h3>Prerequisites (checked automatically)</h3>
      <div class="prereq-grid">
        <div class="prereq">
          <strong>Git</strong>
          <span>To clone the repository</span>
        </div>
        <div class="prereq">
          <strong>Node.js 18+</strong>
          <span>For the MCP server</span>
        </div>
        <div class="prereq">
          <strong>Python 3.11+</strong>
          <span>For Lambda functions</span>
        </div>
        <div class="prereq">
          <strong>AWS CLI</strong>
          <span>Configured with credentials</span>
        </div>
        <div class="prereq">
          <strong>Krisp Pro</strong>
          <span>With webhook access</span>
        </div>
        <div class="prereq">
          <strong>AWS Bedrock Access</strong>
          <span>Titan embeddings enabled</span>
        </div>
      </div>

      <h3>What It Asks You</h3>
      <ul>
        <li><strong>"Continue with deployment? [y/N]"</strong> — Confirmation before creating AWS resources</li>
      </ul>
      <p>That's it. Everything else is automatic.</p>

      <h3>What Gets Created in Your AWS Account</h3>
      <p>The script deploys a CloudFormation stack with:</p>
      <ul>
        <li><strong>S3 Bucket</strong> — <code>krisp-transcripts-{your-account-id}</code> for raw transcript JSON</li>
        <li><strong>S3 Bucket</strong> — <code>krisp-vectors-{your-account-id}</code> for vector embeddings</li>
        <li><strong>DynamoDB Table</strong> — <code>krisp-transcripts-index</code> for fast metadata queries</li>
        <li><strong>Lambda Function</strong> — Webhook receiver with public URL (for Krisp to call)</li>
        <li><strong>Lambda Function</strong> — Processor that indexes transcripts and generates embeddings</li>
        <li><strong>IAM Roles</strong> — Scoped permissions for the Lambda functions</li>
        <li><strong>S3 Vectors Index</strong> — <code>transcript-chunks</code> (1024-dimension cosine similarity)</li>
      </ul>

      <h3>What Gets Installed Locally</h3>
      <ul>
        <li><strong>Repository</strong> — Cloned to <code>~/keep-it-krispy</code></li>
        <li><strong>Node modules</strong> — For the MCP server (<code>npm install</code>)</li>
        <li><strong>Python packages</strong> — For Lambda deployment (<code>pip install</code> to temp folder)</li>
        <li><strong>MCP Server</strong> — Built to <code>dist/stdio-server.cjs</code></li>
      </ul>

      <div class="warning-box">
        <h4>After Install: Manual Steps Required</h4>
        <ol>
          <li><strong>Configure Krisp webhook</strong> — Copy the webhook URL to Krisp settings</li>
          <li><strong>Add MCP server to Claude</strong> — Edit Claude Desktop or Claude Code config (instructions provided)</li>
        </ol>
      </div>
    </section>

    <section>
      <h2>What is MCP?</h2>

      <p><strong>MCP (Model Context Protocol)</strong> is a standard that lets Claude access external tools and data sources. Think of it as a plugin system for Claude.</p>

      <div class="info-box">
        <h4>How It Works</h4>
        <p>The MCP server runs locally on your machine and gives Claude access to your transcript data. When you ask Claude about your meetings, it queries the MCP server, which fetches data from your AWS resources.</p>
      </div>

      <h3>Claude Desktop vs Claude Code</h3>
      <div class="feature-grid">
        <div class="feature">
          <h4>Claude Desktop</h4>
          <p>The standalone Mac/Windows app. Configure MCP servers in <code>claude_desktop_config.json</code></p>
        </div>
        <div class="feature">
          <h4>Claude Code</h4>
          <p>CLI tool for developers. Configure MCP servers with <code>claude mcp add</code> command</p>
        </div>
      </div>
      <p>Both support MCP servers. The install script provides configuration for both.</p>
    </section>

    <section>
      <h2>Architecture</h2>
      <pre class="architecture">
Krisp App → Webhook Lambda → S3 (raw JSON)
                                   ↓
                           S3 Event Trigger
                                   ↓
                          Processing Lambda
                                   ↓
                   ┌───────────────┼───────────────┐
                   ↓               ↓               ↓
              DynamoDB      Bedrock Titan      S3 Vectors
             (metadata)     (embeddings)    (semantic index)
                   └───────────────┴───────────────┘
                                   ↓
                        MCP Server (your laptop)
                                   ↓
                   ┌───────────────┼───────────────┐
                   ↓               ↓               ↓
            Claude Desktop   Claude Code    (optional web UI)</pre>
      <p style="margin-top: 15px;">The MCP server runs on your machine and connects to your AWS resources using your credentials. Your transcript data never leaves your AWS account.</p>
    </section>

    <section>
      <h2>Cost</h2>
      <table class="cost-table">
        <tr><th>Component</th><th>Monthly Cost</th></tr>
        <tr><td>DynamoDB</td><td>Free tier</td></tr>
        <tr><td>S3 Vectors storage</td><td>~$0.01</td></tr>
        <tr><td>S3 Vectors queries</td><td>~$0.01</td></tr>
        <tr><td>Bedrock Titan embeddings</td><td>~$0.05 (one-time)</td></tr>
        <tr><td>Lambda compute</td><td>Free tier</td></tr>
        <tr><td>S3 storage</td><td>~$0.02</td></tr>
        <tr><td><strong>Total</strong></td><td><strong>&lt; $2/month</strong></td></tr>
      </table>
      <p style="margin-top: 20px;">No always-on infrastructure. Pure serverless, pay-per-use pricing.</p>
    </section>

    <section>
      <h2>The Magic: Semantic Search</h2>
      <p>Search for <span class="highlight">"budget concerns"</span> and find meetings where you talked about "cost overruns" or "spending too much" — actual meaning, not just keywords.</p>
      <p>Speaker names are indexed into the embeddings, so searching <span class="highlight">"meetings with Brian"</span> works even if his name isn't in the transcript text.</p>
    </section>

    <section>
      <h2>Uninstall</h2>
      <p>To remove everything:</p>
      <ol>
        <li>Delete the CloudFormation stack: <code>aws cloudformation delete-stack --stack-name krisp-buddy</code></li>
        <li>Empty and delete the S3 buckets (CloudFormation won't delete non-empty buckets)</li>
        <li>Remove the local folder: <code>rm -rf ~/keep-it-krispy</code></li>
        <li>Remove MCP config from Claude Desktop/Code</li>
      </ol>
    </section>

    <footer>
      <p>Built with Claude Code. Serverless. Semantic. Searchable.</p>
      <p style="margin-top: 10px;"><a href="https://github.com/dwinter3/keep-it-krispy">GitHub</a> · MIT License</p>
    </footer>
  </div>

  <!-- Install Preview Modal -->
  <div class="modal-overlay" id="installModal">
    <div class="modal">
      <div class="modal-header">
        <h3>Install Preview</h3>
        <button class="modal-close" onclick="closeInstallPreview()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="step-indicator" id="stepIndicator"></div>
        <div class="terminal">
          <div class="terminal-header">
            <span class="terminal-dot red"></span>
            <span class="terminal-dot yellow"></span>
            <span class="terminal-dot green"></span>
          </div>
          <div class="terminal-content" id="terminalContent"></div>
        </div>
        <div class="step-nav">
          <button class="prev-btn" onclick="prevStep()" id="prevBtn">Previous</button>
          <button class="next-btn" onclick="nextStep()" id="nextBtn">Next</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Curl command copy
    document.querySelector('.curl-command')?.addEventListener('click', function() {
      const text = 'curl -fsSL http://keepitkrispy-website.s3-website-us-east-1.amazonaws.com/install.sh | bash';
      navigator.clipboard?.writeText(text).then(() => {
        const original = this.style.borderColor;
        this.style.borderColor = '#00d4aa';
        setTimeout(() => this.style.borderColor = original, 500);
      });
    });

    // Install preview modal
    const installSteps = [
      {
        label: 'auto',
        title: 'Downloading & Running',
        content: `<span class="muted">$ curl -fsSL http://keepitkrispy-website.s3-website-us-east-1.amazonaws.com/install.sh | bash</span>

<span class="success">Keep It Krispy - Installer</span>
========================================

Checking prerequisites...
  <span class="success">✓</span> Git found
  <span class="success">✓</span> Node.js 20.11.0 found
  <span class="success">✓</span> Python 3.12.0 found
  <span class="success">✓</span> AWS CLI found

Checking AWS configuration...
  <span class="success">✓</span> AWS credentials configured
  <span class="success">✓</span> Region: us-east-1
  <span class="success">✓</span> Account: 123456789012`
      },
      {
        label: 'auto',
        title: 'Cloning Repository',
        content: `Cloning repository...
  <span class="success">✓</span> Cloned to ~/keep-it-krispy

Installing MCP server dependencies...
  <span class="muted">npm install...</span>
  <span class="success">✓</span> Dependencies installed

Building MCP server...
  <span class="muted">npm run build...</span>
  <span class="success">✓</span> Built to dist/stdio-server.cjs`
      },
      {
        label: 'input',
        title: 'Confirmation Required',
        content: `<span class="warning">AWS Resources to be created:</span>
  • S3 Bucket: krisp-transcripts-123456789012
  • S3 Bucket: krisp-vectors-123456789012
  • DynamoDB Table: krisp-transcripts-index
  • Lambda: krisp-webhook-handler
  • Lambda: krisp-transcript-processor
  • IAM Roles for Lambda execution

Estimated monthly cost: <span class="success">&lt; $2/month</span>

<span class="warning">Continue with deployment? [y/N]</span> <span class="user-input">y</span>

<span class="muted">This is the only input required during install.</span>`
      },
      {
        label: 'auto',
        title: 'CloudFormation Deployment',
        content: `Deploying CloudFormation stack...
  <span class="muted">Creating krisp-buddy stack...</span>

  <span class="success">✓</span> S3 bucket created: krisp-transcripts-123456789012
  <span class="success">✓</span> S3 vectors bucket created: krisp-vectors-123456789012
  <span class="success">✓</span> DynamoDB table created: krisp-transcripts-index
  <span class="success">✓</span> Lambda function created: krisp-webhook-handler
  <span class="success">✓</span> Lambda function created: krisp-transcript-processor
  <span class="success">✓</span> IAM roles configured
  <span class="success">✓</span> S3 event notification configured

Stack Status: <span class="success">CREATE_COMPLETE</span>`
      },
      {
        label: 'auto',
        title: 'Vector Index Setup',
        content: `Setting up S3 Vectors index...
  <span class="muted">Creating vector bucket...</span>
  <span class="success">✓</span> Vector bucket ready

  <span class="muted">Creating transcript-chunks index...</span>
  <span class="success">✓</span> Index created (1536 dimensions, cosine similarity)

Deploying Lambda code...
  <span class="muted">Packaging processor Lambda...</span>
  <span class="success">✓</span> Processor Lambda deployed
  <span class="muted">Packaging webhook Lambda...</span>
  <span class="success">✓</span> Webhook Lambda deployed`
      },
      {
        label: 'output',
        title: 'Installation Complete',
        content: `<span class="success">========================================
Installation Complete!
========================================</span>

<span class="warning">Webhook URL (copy this to Krisp):</span>
<span class="highlight-url">https://abc123xyz.lambda-url.us-east-1.on.aws/</span>

<span class="warning">Next Steps:</span>

1. <span class="warning">Configure Krisp Webhook:</span>
   Open Krisp → Settings → Integrations → Add Webhook
   Paste the URL above

2. <span class="warning">Add MCP Server to Claude:</span>
   The config has been printed below.`
      },
      {
        label: 'output',
        title: 'Claude Configuration',
        content: `<span class="warning">For Claude Desktop</span> <span class="muted">(~/Library/Application Support/Claude/claude_desktop_config.json)</span>

{
  "mcpServers": {
    "krisp": {
      "command": "node",
      "args": ["<span class="highlight-url">/Users/you/keep-it-krispy/lambda/mcp-server-ts/dist/stdio-server.cjs</span>"],
      "env": {
        "KRISP_S3_BUCKET": "krisp-transcripts-123456789012",
        "AWS_REGION": "us-east-1"
      }
    }
  }
}

<span class="warning">For Claude Code:</span>
<span class="muted">$ claude mcp add krisp</span>

<span class="success">You're all set! Start a meeting and watch the magic happen.</span>`
      }
    ];

    let currentStep = 0;

    function openInstallPreview() {
      currentStep = 0;
      document.getElementById('installModal').classList.add('active');
      renderStep();
      document.body.style.overflow = 'hidden';
    }

    function closeInstallPreview() {
      document.getElementById('installModal').classList.remove('active');
      document.body.style.overflow = '';
    }

    function renderStep() {
      const step = installSteps[currentStep];
      const content = document.getElementById('terminalContent');
      const indicator = document.getElementById('stepIndicator');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');

      // Render step indicator dots
      indicator.innerHTML = installSteps.map((_, i) =>
        `<span class="step-dot ${i < currentStep ? 'completed' : ''} ${i === currentStep ? 'active' : ''}"></span>`
      ).join('');

      // Render terminal content
      content.innerHTML = `
        <div class="terminal-step active">
          <span class="step-label ${step.label}">${step.label === 'input' ? 'User Input' : step.label === 'output' ? 'Output' : 'Automatic'}</span>
          <div style="margin-top: 8px; font-weight: bold; color: #fff; margin-bottom: 12px;">${step.title}</div>
          <div>${step.content}</div>
        </div>
      `;

      // Update nav buttons
      prevBtn.disabled = currentStep === 0;
      nextBtn.textContent = currentStep === installSteps.length - 1 ? 'Close' : 'Next';
    }

    function prevStep() {
      if (currentStep > 0) {
        currentStep--;
        renderStep();
      }
    }

    function nextStep() {
      if (currentStep < installSteps.length - 1) {
        currentStep++;
        renderStep();
      } else {
        closeInstallPreview();
      }
    }

    // Close modal on overlay click
    document.getElementById('installModal')?.addEventListener('click', function(e) {
      if (e.target === this) closeInstallPreview();
    });

    // Close modal on Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') closeInstallPreview();
    });
  </script>
</body>
</html>
